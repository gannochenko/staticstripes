<title>Christmas Morning in Liberec</title>
<date>2005-12-24T18:00:00Z</date>
<tag name="travel" />
<tag name="blog" />
<tag name="christmasmorning" />
<tag name="liberec" />
<tag name="czechrepublic" />
<tag name="wintervibes" />

<project>
  <sequence>
    <fragment class="intro_image intro_duration" />
    <fragment class="clip_1 ambient" data-timecode="Clip 1" />
    <fragment class="analog_static_03" />
    <fragment class="clip_2 ambient" data-timecode="Clip 2" />
    <fragment
      class="outro_image outro_duration"
      id="ending_screen"
      data-timecode="Conclusion"
    />
  </sequence>
  <sequence>
    <fragment class="intro_sound intro_duration" />
  </sequence>
  <sequence>
    <fragment class="intro_image_message intro_duration">
      <app src="../apps/central_text/dst" data-arguments="" data-async />
    </fragment>
  </sequence>
  <sequence>
    <fragment class="outro_sound outro_duration" id="outro_sound" />
  </sequence>
  <sequence>
    <fragment class="outro_message outro_duration" id="outro_message">
      <app
        src="../apps/central_text/dst"
        data-parameters="{outro: true}"
        data-async
      />
    </fragment>
  </sequence>
</project>

<style>
  /* todo: variable support would be cool */
  /* :root {
    --primary-color: #3498db;
    --spacing: 20px;
    --font-size: 16px;
  } */

  .disabled {
    display: none;
  }
  .ambient {
    -object-fit: contain ambient 25 -0.1 0.7;
  }
  .outro_duration {
    -duration: 5000ms;
  }

  .intro_duration {
    -duration: 8000ms;
  }

  .intro_image {
    -asset: intro_image;
    -transition-end: fade-out 500ms;
    /* filter: instagram-nashville; */
    filter: instagram-lark;
  }
  .intro_image_message {
    -transition-end: fade-out 500ms;
  }
  .intro_sound {
    -asset: guitar_music;
    -transition-end: fade-out 500ms;
  }

  .clip_1 {
    -asset: clip_01;
    -trim-start: 3000ms;
    -transition-start: fade-in 1000ms;
  }
  .clip_2 {
    -asset: clip_02;
    -duration: 3000ms;
    -transition-end: fade-out 1000ms;
  }

  .outro_image {
    -asset: intro_image;
    -transition-start: fade-in 1000ms;
    -transition-end: fade-out 500ms;
  }
  .outro_sound {
    -asset: guitar_music;
    -offset-start: calc(url(#ending_screen.time.start));
    -transition-end: fade-out 500ms;
  }
  .outro_message {
    -offset-start: calc(url(#ending_screen.time.start));
    -transition-start: fade-in 1000ms;
    -transition-end: fade-out 500ms;
  }

  .glitch {
    -asset: glitch;
    -duration: 500ms;
    -offset-start: -250ms;
    -overlay-start-z-index: 1;
    -offset-end: -250ms;
    -overlay-end-z-index: 1;
    -chromakey: smooth strict #000000;
  }

  .analog_static_03 {
    -asset: analog_static_03;
    -duration: 500ms;
  }
</style>

<assets>
  <asset
    data-name="clip_01"
    data-path="./input/20251224_110901.mp4"
    data-author="John Doe"
  />
  <asset
    data-name="clip_02"
    data-path="./input/20251224_111721.mp4"
    data-author="Jane Doe"
  />
  <asset
    data-name="intro_image"
    data-path="./images/20251224_110757.jpg"
    data-author="FooBar"
  />
  <asset data-name="glitch" data-path="./effects/digital_glitch_01.mp4" />
  <asset
    data-name="analog_static_03"
    data-path="./effects/analog_static_03.mp4"
  />
  <asset
    data-name="guitar_music"
    data-path="./audio/instrumental-acoustic-guitar-music-401434.mp3"
    data-author="Baz"
  />
  <asset
    data-name="mysterious_music"
    data-path="./audio/mysterious_music/attempt_1.mp3"
  >
    <ai data-integration-name="ai_music_api_ai">
      <prompt>
        10-second instrumental acoustic guitar piece, calm and relaxing mood,
        soft fingerpicking, warm analog tone, subtle ambient background texture,
        slow tempo (65-75 BPM), light room reverb, smooth fade-out,
        minimalistic, no vocals, no percussion.
      </prompt>
    </ai>
  </asset>
</assets>

<outputs>
  <output
    name="youtube"
    path="./output/youtube.mp4"
    resolution="1920x1080"
    fps="30"
  />
  <output
    name="youtube_shorts"
    path="./output/youtube_shorts.mp4"
    resolution="1080x1920"
    fps="30"
  />
  <output
    name="instagram_shorts"
    path="./output/instagram_shorts.mp4"
    resolution="1080x1920"
    fps="30"
  />
</outputs>

<uploads>
  <youtube name="yt_primary" data-output-name="youtube">
    <unlisted />
    <made-for-kids />
    <category name="entertainment" />
    <language name="en" />
    <thumbnail data-timecode="1000ms" />
    <pre>
Timecodes:

${timecodes}

Thanks for watching!
    </pre>
  </youtube>
  <s3 name="s3_primary" data-output-name="youtube">
    <endpoint name="digitaloceanspaces.com" />
    <region name="ams3" />
    <bucket name="photoframe-photos-content-ams3-production" />
    <path name="file"> videos/${slug}/${output}.mp4 </path>
    <path name="metadata"> videos/${slug}/metadata.json </path>
    <path name="thumbnail"> videos/${slug}/thumbnail.jpeg </path>
    <acl name="public-read" />
    <thumbnail data-timecode="1000ms" />
  </s3>
  <s3 name="s3_instagram" data-output-name="instagram_shorts">
    <endpoint name="digitaloceanspaces.com" />
    <region name="ams3" />
    <bucket name="photoframe-photos-content-ams3-production" />
    <path name="file"> videos/instagram/${slug}/${output}.mp4 </path>
    <acl name="public-read" />
  </s3>
  <instagram name="ig_primary" data-output-name="instagram_shorts">
    <thumbnail data-timecode="1000ms" />
    <pre>
${title} â„ï¸ğŸ”ï¸

${tags}
    </pre>
  </instagram>
</uploads>

<ai>
  <ai-music-api-ai name="ai_music_api_ai">
    <model name="sonic-v4-5" />
  </ai-music-api-ai>
</ai>

<ffmpeg>
  <option name="preview">
    -c:v h264_nvenc -preset fast -c:a aac -b:a 192k
  </option>
  <option name="meh">
    -pix_fmt yuv420p -preset ultrafast -c:a aac -b:a 192k
  </option>
</ffmpeg>
